<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>檔案上傳工具</title>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body class="uploader-page">
    <div class="upload-container">
        <div class="header">
            <h1>🔍 檔案上傳工具</h1>
            <p id="headerDescription">將 TXT, XLSX, 和 YAML 檔案直接上傳至向量資料庫</p>
        </div>

        <div class="info-box">
            <h3>✅ 自動設定</h3>
            <p>已連接至國泰專案雲端向量資料庫</p>
        </div>

        <!-- Enhanced Configuration -->
        <div class="simple-config">
            <!-- Index Type Selection -->
            <div class="form-group">
                <label for="indexType">📋 上傳類型</label>
                <select id="indexType">
                    <option value="documents">📄 一般文件 (TXT, XLSX, YAML)</option>
                    <option value="agent">🤖 Agent 版本 (JSON)</option>
                </select>
            </div>

            <!-- Data Processing Method -->
            <div class="form-group">
                <label for="deleteExisting">🔄 資料處理方式</label>
                <select id="deleteExisting">
                    <option value="false">新增至現有資料</option>
                    <option value="true">先清除所有現有資料</option>
                </select>
            </div>

            <!-- Hidden Index Name Input -->
            <div class="form-group" style="display: none;">
                <label for="indexName">索引名稱</label>
                <input type="text" id="indexName" value="cathay_project1_chunks" placeholder="cathay_project1_chunks">
            </div>
        </div>

        <!-- File Upload Section -->
        <div class="drop-zone">
            <input type="file" id="fileInput" class="file-input" multiple accept=".txt,.xlsx,.xls,.yaml,.yml">
            <div class="drop-zone-content">
                <div class="upload-icon">📁</div>
                <h3>將檔案拖曳至此或點擊選取</h3>
                <p id="supportedFormats">支援格式: TXT, XLSX, YAML</p>
            </div>
        </div>

        <div class="file-list" id="fileList"></div>

        <div class="progress-bar" id="progressBar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <button class="upload-btn" id="uploadBtn" disabled>
            上傳至向量資料庫
        </button>

        <div class="status-message" id="statusMessage"></div>
    </div>

    <script src="/assets/js/elasticsearch_file_uploader.js"></script>
</body>
</html>