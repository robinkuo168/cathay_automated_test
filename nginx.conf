# nginx.conf
server {
    listen ${PORT};
    server_name localhost;

    # 網站根目錄
    root /var/www/html;

    # 預設首頁，Nginx 會依序尋找這些檔案
    # 如果您希望有一個首頁，可以在 frontend 目錄下建立一個 index.html
    index index.html index.htm;

    # 處理 API 請求，轉發到後端
    location /api/ {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # 讓使用者可以直接訪問子目錄中的 html 檔案
    # 例如：/pages/report-analyzer.html
    location / {
    # 依次嘗試尋找完全匹配的檔案、加上 .html 的檔案、或對應的目錄
    try_files $uri $uri.html $uri/ =404;
    }
}